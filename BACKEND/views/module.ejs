<%- include('partials/_layout_start.ejs'); %>

<div class="main-content-area">
    <%- include('partials/_header.ejs'); %>
    <main class="content">
        <%_ <!-- Original module-nav-bar can be removed or integrated if specific links are still needed --> _%>
        <%_ 
          <div class="module-nav-bar" style="margin-bottom: 1rem;">
            <a href="/home/public.html" class="btn btn-outline-primary">Dashboard</a>
            <a href="/home/courses/<%= encodeURIComponent(courseTitle) %>" class="btn btn-outline-primary">Back to Course</a>
            <a href="/progress" class="btn btn-outline-primary">Progress</a>
          </div>
        _%> 

        <div class="module-container">
            <div class="module-header">
                <h1><%= module.title %></h1>
                <div class="module-meta">
                    <span class="category"><%= module.category %></span>
                    <span class="difficulty">Difficulty: <%= module.difficulty || '' %></span>
                    <span class="duration">Duration: <%= module.estimatedDuration || '' %></span>
                </div>
            </div>

            <div class="module-content">
                <%- module.content %>
            </div>

            <div class="module-navigation">
                <% if (previousModule) { %>
                <a href="/module/<%= previousModule.id %>" class="btn btn-secondary">Previous Module</a>
                <% } %>
                <% if (nextModule) { %>
                <a href="/module/<%= nextModule.id %>" class="btn btn-primary">Next Module</a>
                <% } %>
            </div>
        </div>
    </main>
</div>

<script>
    window.MODULE_ID = "<%= module.id %>";
</script>
<script src="/js/module-viewer.js"></script>

<%- include('partials/_layout_end.ejs'); %> 